# API 상세설계

## 1. 라벨 API

> Label 테이블

- 라벨 조회
    - 전체 조회
        1. 검색 시간 순 정렬
        2. 라벨 등록 순 정렬
    - 검색어 매칭 조회
- 라벨 생성
- 라벨 삭제
- 라벨 수정


### 라벨 조회
1. 전체 & 검색어 매칭 두가지 조회
2. API 하나로 합쳐서 로직만 분기 처리하면 좋을 듯


## 2. 사진 API

> Picture 테이블

- 사진 조회
    - 최근 추가된 순 정렬
    - 즐겨찾는 사진 순(클릭 순)
- 사진 클릭 count
- 사진 삭제

### 사진 삭제
사진 목록을 배열로 받아서 삭제하는 쿼리 생성

## 3. 라벨링 관련 API

> Relation 테이블

- 라벨링 조회
    - 사진에 해당하는 라벨 조회
- 라벨링 생성
    - 사진에 라벨 생성
- 라벨링 수정
    - 앨범 기능에서 라벨 수정 시 사용
- 라벨링 삭제
    - 앨범 기능에서 앨범 삭제 시

## 4. 회원 API

- 회원 생성
- 회원 정보 조회
- 회원 삭제
- 회원 정보 수정

## 5. 탐색 API

> Relation, Picture 테이블

- 라벨과 일치하는 사진 조회
    - 최근 추가된 순 정렬

### 탐색에 포함된 기능
1. 선택된 사진 삭제
2. 사진 조회
3. 회원정보 조회(설정 - 프로필)

## 6. 앨범 API

1. 앨범 조회
    - 라벨별 사진 수 (라벨명 = 앨범명)
    - label_name
    - picture_count
    - picture_idx 배열
2. 앨범 상세보기
    - 라벨과 일치하는 사진 조회 (탐색 API 사용)
3. 앨범에 사진 없으면 전체 사진 조회
    - 사진 조회 API 사용
4. 선택한 사진 모두 라벨링
    - 라벨링 생성 API 사용
5. 앨범 이름 변경(=선택된 라벨 이름 수정)
    - 라벨링 수정 API 사용
5. 사진 삭제
    - 선택된 사진 삭제 API 사용
6. 라벨 삭제 (=앨범 삭제)
    - 라벨링 삭제 API 사용

